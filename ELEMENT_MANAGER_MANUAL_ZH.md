# 元素管理器 (Element Creator) 使用说明书

## 1. 简介
元素管理器是《AmazeIng》游戏中强大的自定义工具，允许玩家创建、修改和管理自定义游戏元素（如敌人、陷阱）。通过此工具，你可以将自己的创意带入迷宫，设定它们的属性、外观以及在各个关卡中的生成规则。

## 2. 如何进入
1. 启动游戏进入 **主菜单 (Main Menu)**。
2. 点击 **"Element Creator"** 按钮进入管理器仪表盘。

---

## 3. 功能概览 (仪表盘)
在仪表盘界面，你可以看到当前所有已创建的自定义元素列表。
- **+ Create New Element**: 点击创建新元素。
- **Edit (编辑)**: 点击列表中的“Edit”按钮，修改现有元素。
- **Delete (删除)**: 点击“Delete”按钮，永久删除该元素及其关联的图片资源。
- **Exit**: 返回主菜单。

---

## 4. 创建/编辑流程
创建或编辑元素分为5个步骤：

### 步骤 1: 基本信息 (Basic Info)
- **Name (名称)**: 给你的元素起个名字（例如 "Super Boar"）。
- **Type (类型)**: 选择元素类型（目前支持 `ENEMY`）。
- **Next**: 进入下一步。

### 步骤 2: 素材上传 (Sprites)
- **Drag & Drop (拖拽上传)**: 将你的 `.png` 图片文件拖拽到窗口中央的灰色区域。
- **支持格式**: 推荐使用 `64x64` 或 `16x16` 像素的 PNG 图片。
- **自动镜像**: 游戏会自动处理向左移动的镜像翻转，因此你通常只需要上传向右或正面的素材。
- **状态分类**:
  - `Move` (移动): 敌人行走时的动画。
  - `Death` (死亡): 敌人死亡时的动画。
- **预览**: 上传后，下方会显示生成的动画帧缩略图。

### 步骤 3: 动画预览 (Preview)
- 在此页面，你可以实时查看上传素材在游戏中的动画效果。
- 确认动画流畅无误后，点击 **Next**。

### 步骤 4: 属性设置 (Properties)
自定义元素的数值属性：
- **Speed (速度)**: 敌人移动的快慢。
- **Health (生命值)**: 敌人能承受的伤害量。
- **Scale (尺寸)**: *（内部自动设为 1.0x 标准格子大小，无需手动调整）*。
- **Max Spawn Count (最大生成数)**: 在同一关卡中，该类敌人最多同时存在的数量。
- **视觉特效**:
  - **死亡灰度**: 敌人死亡时会自动变为黑白效果，无需特殊处理素材。

### 步骤 5: 关卡分配 (Level Assignment) - **重要更新!**
决定你的元素出现在哪些关卡，以及出现的概率。
- **Level List (关卡列表)**: 滚动查看关卡 1-20。
- **Toggle (开关)**: 点击按钮将元素分配给该关卡（变绿及显示 "Assigned"）。
- **Probability Slider (概率滑块)**: 
  - 即使分配了关卡，你也可以通过滑块控制其生成的稀有度。
  - **0%**: 不会生成。
  - **100%**: 极高概率生成（受最大生成数限制）。
- **Select All / Clear All**: 批量操作所有关卡。

---

## 5. 常见问题 (FAQ)

**Q: 我上传的图片去哪了？**
A: 所有上传的图片会被自动复制并保存到游戏目录下的 `custom_images/{element_id}/` 文件夹中。你无需保留原始文件。

**Q: 为什么敌人有时候不出现？**
A: 请检查：
1. 步骤 5 中是否分配给了当前关卡。
2. 步骤 5 中的 **概率 (Probability)** 是否设置得太低。
3. 步骤 4 中的 **Max Spawn Count** 是否被限制了。

**Q: 我删除了元素，存档会坏吗？**
A: 元素管理器会安全地清理元素数据和图片文件。游戏加载时会自动忽略已删除的元素，不会导致坏档。
